# 网页内容读取器插件 (Web Reader)

> 智能提取网页内容，支持多种网站类型的内容读取和解析，让 AI 轻松获取网页信息！

## 主要功能

- **智能提取**: 自动分析网页结构，提取标题、描述、关键词等元数据
- **多格式支持**: 支持原始HTML和纯文本内容提取，满足不同需求
- **链接提取**: 智能提取页面中的主要链接，方便导航
- **图片提取**: 自动提取页面中的图片URL，支持多媒体内容获取
- **错误处理**: 完善的错误处理机制，提供清晰的错误信息
- **灵活配置**: 可自定义超时时间、内容长度、用户代理等参数

## 使用方法

### 基础用法

在对话中使用命令：

```
读取网页 https://example.com
```

### 使用场景

- **新闻阅读**: 快速提取新闻网站的文章内容
- **资料收集**: 从网页获取技术文档、教程等资料
- **内容分析**: 分析网页结构和关键信息
- **数据抓取**: 提取页面中的链接和图片资源

> 💡 **提示**: 支持大多数常见网站，包括新闻、博客、文档站点等！

## 前置条件

- 目标网页需要**可公开访问**（无需登录）
- 支持**HTTP/HTTPS协议**
- 网页内容需要**文本为主**（图片、视频内容会被提取URL但不会下载）

## 配置说明

在 Web 管理页面的插件配置中，可以调整以下选项：

### 默认请求超时时间
- **默认**: 30 秒
- **说明**: HTTP请求的默认超时时间
- **范围**: 5-300 秒
- **建议**: 网络较慢时可适当提高，但不要超过 120 秒

### 最大内容长度
- **默认**: 15000 字符
- **说明**: 返回内容的最大字符数，防止内存溢出
- **范围**: 1000-100000 字符
- **处理**: 超出部分会自动截断并添加"...（内容已截断）"提示

### 用户代理字符串
- **默认**: Chrome 120
- **说明**: HTTP请求时使用的User-Agent头
- **作用**: 模拟浏览器访问，避免被网站屏蔽
- **建议**: 保持默认即可，特殊网站可根据需要调整

### 提取链接
- **默认**: 开启（True）
- **说明**: 是否提取页面中的主要链接
- **限制**: 最多提取 10 个主要链接

### 提取图片
- **默认**: 开启（True）
- **说明**: 是否提取页面中的图片URL
- **限制**: 最多提取 5 个图片URL

## 生成结果

成功读取网页后会返回格式化的内容，包含：

- 🔗 **网址信息**: 完整的URL地址
- 📌 **网页标题**: 页面标题（如存在）
- ✅ **状态码**: HTTP响应状态码
- 🌐 **编码格式**: 网页编码（如UTF-8）
- 📝 **网页描述**: 页面描述信息（如存在）
- ✍️ **作者信息**: 页面作者（如存在）
- 🏷️ **关键词**: 页面关键词（如存在）
- 📖 **主要内容**: 提取的网页正文内容
- 🔗 **相关链接**: 提取的主要链接（如开启）
- 🖼️ **图片资源**: 提取的图片URL（如开启）

## 实际示例

### 读取新闻网站

```
读取网页 https://tech.sina.com.cn/
```

**返回结果**：
```
============================================================
📄 网页信息
============================================================
🔗 URL: https://tech.sina.com.cn/
📌 标题: 科技频道_新浪网
✅ 状态码: 200
🌐 编码: utf-8
📝 描述: 新浪科技频道...

============================================================
📖 主要内容
============================================================
[提取的新闻内容...]

============================================================
🔗 相关链接 (前10个)
============================================================
• [人工智能](https://tech.sina.com.cn/ai/)
• [5G通信](https://tech.sina.com.cn/5g/)
...
```

### 读取技术文档

```
读取网页 https://docs.python.org/3/tutorial/
```

**AI 的处理过程**：

1. 🔍 发送HTTP请求到目标网址
2. 🎯 自动检测网页编码格式
3. 📊 提取页面元数据（标题、描述等）
4. ✨ 智能解析HTML结构，提取主要内容
5. 🔗 提取相关链接和图片资源
6. 📝 格式化输出所有信息

## 注意事项

⚠️ **重要提示**：

1. **网络访问**: 插件需要访问外部网站，确保网络连接正常
2. **反爬机制**: 某些网站可能有反爬虫机制，可能导致读取失败
3. **内容版权**: 注意网页内容的版权和使用权限
4. **访问频率**: 避免对同一网站频繁请求，防止被封IP
5. **内容长度**: 过长的内容会被自动截断，重要信息建议分段读取

## 常见问题

### Q: 为什么提示"连接超时"？

**A**: 网络连接问题或目标网站响应过慢。解决方法：

- 检查网络连接是否正常
- 在插件配置中增加"默认请求超时时间"
- 确认目标网站是否可以正常访问

### Q: 返回的内容不完整怎么办？

**A**: 内容被截断可能是由于长度限制。解决方法：

- 在插件配置中增加"最大内容长度"
- 使用更精确的目标URL（如具体文章页面而非列表页）
- 分段读取不同部分的内容

### Q: 某些网站读取失败？

**A**: 可能是由于反爬虫机制或网站限制。解决方法：

- 检查是否有JavaScript渲染要求（本插件不支持JS渲染）
- 尝试更换"用户代理字符串"
- 确认网站是否需要登录或特殊权限

### Q: 如何获取更好的读取效果？

**A**: 建议：

- 选择内容为主的网页（文章、文档等）
- 避免复杂的交互式页面
- 确保网页结构清晰，有明确的标题和内容区域

## 进阶技巧

### 1. 选择合适的读取目标

✅ **推荐读取**：
- 新闻文章、博客文章
- 技术文档、教程页面
- 产品介绍、说明文档
- 结构清晰的内容页面

❌ **不建议读取**：
- 需要登录的页面
- 大量JavaScript渲染的页面
- 以图片、视频为主的页面
- 交互式应用页面

### 2. 参数调整建议

不同场景推荐的配置：

- **新闻阅读**: 超时时间 30s，内容长度 10000-15000
- **技术文档**: 超时时间 60s，内容长度 20000-30000  
- **快速预览**: 超时时间 15s，内容长度 5000-8000
- **详细分析**: 超时时间 120s，内容长度 50000+

### 4. 内容后处理

获取内容后可以进一步处理：

- 提取关键信息（使用正则表达式）
- 总结主要内容（配合AI模型）
- 分类存储（按主题、来源等）
- 生成摘要或关键词

## 更新日志

### v2.0.0 (当前版本)

- ✨ 增强版发布
- 🧠 智能HTML解析，使用BeautifulSoup4
- 🔗 支持链接和图片提取
- ⚙️ 丰富的配置选项
- 🛡️ 完善的错误处理机制
- 🎨 格式化输出，信息更丰富

### v1.0.0 (早期版本)

- 🎯 基础网页读取功能
- 📝 支持原始HTML和纯文本提取
- ⏱️ 超时控制和内容长度限制
- 🔒 基础错误处理

## 技术支持

- **问题反馈**: [GitHub Issues](https://github.com/your-repo/issues)
- **插件文档**: 参见 PLUGIN_README.md 开发文档
- **依赖库**: requests, beautifulsoup4

## 开源协议

MIT License

---

<div align="center">
  <sub>让 AI 轻松读取网页内容 📖</sub>
</div>